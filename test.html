<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <title>Document</title>
    <style>
        .text-danger{
            color: red;
        }
    </style>
</head>

<body>
    <h1>Timer Example</h1>
    <input type="number" value="5" id="setTime">
    <button id="timerControl" class="timerRunning">Start the timer</button>
    <p id="timer"></p>

    <script>
        var myVar;
        var Default = 15;
        var startTime = Default;
        var time;
        var freq = 1000;
        var timerInProcess = false;

        function myFunction() {
            myVar = setTimeout(function () {
                $('#timer').html(time);
                time--;
                if (time === 0) {
                    time = startTime;
                }
                if (!time && time !== 0) return;
                myFunction();
            }, freq);
        }

        function myStopFunction() {
            clearTimeout(myVar);
        }

        $('#timerControl').click(function () {
            if ($(this).hasClass('timerRunning')) {
                // button says Start the timer
                startTime = $('#setTime').val();
                time = startTime - 1;
                if (startTime) {
                    $('#timer').text(startTime)
                    $(this).text('Stop the Timer').removeClass('timerRunning');
                    myFunction();
                } else {
                    $('#timer').html('<span class="text-danger">Invalid number. The timer was reset to the default timespan.</span>');
                    $('#setTime').val(Default);
                    return;
                }
            } else {
                // button says Stop the timer
                $('#timer').text('');
                $(this).addClass('timerRunning').text('Start the Timer');
                myStopFunction();
            }
        });
    </script>
</body>

</html>